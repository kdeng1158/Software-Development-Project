<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <title>Expenses</title>

  <link rel="icon" href="../ProjectResources/budgetbuddylogo.png" type="image/x-icon" />
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous" />

  <link href='https://fonts.googleapis.com/css2?family=Gudea:wght@700&display=swap' rel='stylesheet'>

  <style>
    body {
      font-family: 'Gudea', sans-serif;
      font-style: 'normal';
      font-weight: 'boldeer';
      word-wrap: break-word;
    }
    .ml-auto .dropdown-menu {
      left: auto;
      right: 0px;
      text-align: center;
      background-color: #20B2A8;
    }
    .button {
      height: 60px;
      width: 60px;
    }
    .btn {
      background-color: #20B2A8;
      border: none;
      width: 100%;
      display: block;
      margin: 0 auto;
    }
    .navbar-toggler-icon {
      font-size: 2em;
    }
    .header {
      text-align: center;
    }
    .thead {
      background-color: #20B2A8;
      color: white;
      font-size: larger;
    }
    .table {
      text-align: center;
    }
    tbody{
      background-color: rgb(235, 235, 235);
    }
    .icon-bar {
      width: auto;
      /* Set a specific width */
      background-color: #535e6d;
      /* Dark-grey background */
      position:relative;
    }
    .icon-bar a {
      display: block;
      /* Make the links appear below each other instead of side-by-side */
      text-align: center;
      /* Center-align text */
      padding: 16px;
      /* Add some padding */
      transition: all 0.3s ease;
      /* Add transition for hover effects */
      color: white;
      /* White text color */
      font-size: 36px;
      /* Increased font-size */
    }
    .icon-bar a:hover {
      background-color: grey;
      /* Add a hover color */
    }
    .active {
      background-color: #5bf6d5;
      /* Add an active/current color */
    }
    .form-group{
      padding: 0px 20px 0px 20px;
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="../resources/css/style.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/1d6b139e43.js" crossorigin="anonymous"></script>
  <!-- Add icons for the nav bar -->
</head>


<body>
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="/dashboard">
      <img src="../../resources/img/budgetbuddylogo.png" alt="logo" height="100" width="100">
    </a>
    <ul class="navbar-nav ml-auto" type="button">
      <li class="nav-item dropdown">
        <button class="nav-link" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="icon-bar dropdown-menu " aria-labelledby="navbarDropdown">
          <a class="nav-link" href="/my_profile"><i class="fa fa-user"></i></a>
          <a class="nav-link" href="/dashboard"><i class="fa fa-chart-pie"></i></a>
          <a class="active nav-link" href="/expenses"><i class="fas fa-wallet"></i></a>
          <a class="nav-link" href="/resources"><i class="fa-regular fa-lightbulb"></i></a>
        </div>
      </li>
    </ul>
  </nav>

  <h1 class="header">Expenses Tracker</h1>

  <div class="container">
    <div class="row">
      <div class="col-sm col-centered d-flex justify-content-center">
        <div class="dropdown btn-block">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            Set Budget
          </button>
          <form action="/expenses/budget" method="post" id="expense-option-form-2">
            <div class="dropdown-menu btn-block" aria-labelledby="dropdownMenuButton">
                <div class="form-group">
                 Budget
                  <input id="number" class="form-control" name="budget" required="required" />
                </div>
                <input type="submit" value="submit" class="btn btn-primary btn-block">
            </div>
          </form>
          </div>
        </div>

      <div class="col-sm col-centered"> </div>
      <div class="col-sm col-centered d-flex justify-content-center">
        <div class="dropdown btn-block">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Add Income or Expense
          </button>
          <form action="/expenses" method="post" id="expense-option-form-1">
            <div class="dropdown-menu btn-block" aria-labelledby="dropdownMenuButton">
                <div class="form-group">
                  Name
                  <input id="text" class="form-control" name="name" required="required" />
                </div>
                <div class="form-group">
                  Date
                  <input id="text" class="form-control" name="date" required="required" />
                </div>
                <div class="form-group">
                  Type
                  <input type="text" list="type_choice" class="form-control" name="type_choice" />
                  <datalist id="type_choice">
                    <option>Income</option>
                    <option>Expenses</option>
                  </datalist>
                </div>
                <div class="form-group">
                  Category:
                  <input type="text" list="cat_choice" class="form-control" name="category_choice" />
                  <datalist id="cat_choice">
                    <option>Rent</option>
                    <option>Tuition</option>
                    <option>Food</option>
                    <option>Gas</option>
                    <option>Savings</option>
                    <option>Part-Time Job</option>
                    <option>Other Expense</option>
                    <option>Other Income</option>
                  </datalist>
                </div>
                <div class="form-group">
                  Amount:
                  <input id="number" class="form-control" name="amount" required="required" />
                </div>
                <input type="submit" value="submit" class="btn btn-primary btn-block">
              </div>
          </form>
      </div>
    </div>
    <br>


    <div class="container">
      <table class="table">
        <thead class="thead">
          <tr>
            <th scope="col">Date</th>
            <th scope="col">Name</th>
            <th scope="col">Type</th>
            <th scope="col">Category</th>
            <th scope="col">Price</th>
          </tr>
        </thead>
        <tbody>
          <% if(expenses){%>
            <%expenses.forEach(function (item) {%>
              <tr>
                <th scope="row"><%=item.transaction_date %></th>
                <td><%=item.transaction_name%></td>
                <td><%=item.transaction_type%></td>
                <td><%=item.category%></td>
                <td><%=item.amount%></td>
              </tr>
            <%}) %>
          <% }; %>
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
</body>


<script type="text/javascript">
function getExpenses(selectObject){			
  document.getElementById("expense-option-form").action = "/expenses";
  document.getElementById("expense-option-form").submit();				
}
</script>