<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <title>Dashboard</title>

  <link rel="icon" href="../ProjectResources/budgetbuddylogo.png" type="image/x-icon" />
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous" />

  <link href='https://fonts.googleapis.com/css2?family=Gudea:wght@700&display=swap' rel='stylesheet'>

  <style>
    body {
      font-family: 'Gudea', sans-serif;
      font-style: 'normal';
      font-weight: 'boldeer';
      word-wrap: break-word;
    }
    .ml-auto .dropdown-menu {
      left: auto;
      right: 0px;
      text-align: center;
      background-color: #20B2A8;
    }
    .navbar-toggler-icon {
      font-size: 2em;
    }
    .header {
      text-align: center;
    }
    .icon-bar {
      width: auto;
      /* Set a specific width */
      background-color: #535e6d;
      /* Dark-grey background */
      position:relative;
    }
    .icon-bar a {
      display: block;
      /* Make the links appear below each other instead of side-by-side */
      text-align: center;
      /* Center-align text */
      padding: 16px;
      /* Add some padding */
      transition: all 0.3s ease;
      /* Add transition for hover effects */
      color: white;
      /* White text color */
      font-size: 36px;
      /* Increased font-size */
    }
    .icon-bar a:hover {
      background-color: grey;
      /* Add a hover color */
    }
    .active {
      background-color: #5bf6d5;
      /* Add an active/current color */
    }
    .card{
      background-color: rgb(235, 235, 235);
      padding: 100px 0px;
      border: transparent;
    }
    
  </style>
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="../../resources/css/style.css">
  <script src="https://kit.fontawesome.com/1d6b139e43.js" crossorigin="anonymous"></script>
  <!-- Add icons for the nav bar -->
  <!-- Import chart.js-->
  <script src=https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js></script>
</head>



  <body>
    
    <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="/dashboard">
      <img src="../../resources/img/budgetbuddylogo.png" alt="logo" height="100" width="100">
    </a>
    <ul class="navbar-nav ml-auto" type="button">
      <li class="nav-item dropdown">
        <button class="nav-link" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="icon-bar dropdown-menu " aria-labelledby="navbarDropdown">
          <a class="nav-link" href="/my_profile"><i class="fa fa-user"></i></a>
          <a class="active nav-link" href="/dashboard"><i class="fa fa-chart-pie"></i></a>
          <a class="nav-link" href="/expenses"><i class="fas fa-wallet"></i></a>
          <a class="nav-link" href="/resources"><i class="fa-regular fa-lightbulb"></i></a>
        </div>
      </li>
    </ul>
  </nav>

  <h1 class="header">Dashboard</h1>
  <div class="container">
    <div class="card-deck">
      <div class="card text-center">
        <a>Expenses</a>
        <div><canvas id="Chart" width="400" height="400"></canvas></div>
      </div>
      <div class="card text-center">
        <a>Total budget: $<%- budget + sum %> </a> 
        <div><canvas id="budgetChart" width="400" height="400"></canvas></div>
      </div>
    </div>
    <br>
  </div>
  <script> 
  let myChart = document.getElementById('Chart').getContext('2d');
  let incomeChart = new Chart(myChart,{
    type:'pie',
    data:{
      labels: <%- JSON.stringify(labels) %>,
      datasets:[{
        label:'dollars',
        data: <%- JSON.stringify(amount) %>,
        backgroundColor:[
          'rgb(32, 178, 168)',
          'rgb(255, 99, 132)',
          'rgb(0, 0, 255)',
          'rgb(255, 215, 0)',
          'rgb(255, 165, 0)'
        ]
      }]
    },
    options:{
      maintainAspectRatio: false
    }
  });     
  </script>
  <script> 
    let budChart = document.getElementById('budgetChart').getContext('2d');
    let budgetChart = new Chart(budChart,{
      type:'pie',
      data:{
        labels: ['Expenses','Budget Remaining'],
        datasets:[{
          label:'dollars',
          data: [<%- JSON.stringify(sum) %>, <%- JSON.stringify(budget) %>],
          backgroundColor:[
            'rgb(255, 99, 132)',
            'rgb(32, 178, 168)'
            
          ]
        }]
      },
      options:{
        maintainAspectRatio: false
      }
    });     
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
  </body>